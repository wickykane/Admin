<div class="modal-header">
    <span class="modal-title">CREATE NEW SITE</span>
    <button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss()">
          <span aria-hidden="true">&times;</span>
        </button>
</div>
<div class="modal-body">



    <section class="rma-page block">
        <div class="row" style="padding-top:15px">
            <div class="col-sm-12">
                <div class="block-header bg-gray-lighter">
                    <h3 class="block-title">GENERAL INFORMATION</h3>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <form [formGroup]="generalForm" class="form-search full-width form-horizontal">
                    <div class="row">
                        <div class="col-md-3">
                            <div class="row">
                                <div class="col-md-12">
                                    <label for="" class="control-label">Parent Company Name</label>
                                    <p style="margin-bottom: 5px;" class="form-control-static">ABC123</p>
                                </div>
                                <div class="col-md-12">
                                    <label for="" class="control-label">Site Code</label>
                                    <p style="margin-bottom: 5px;" class="form-control-static">ABC123</p>
                                </div>
                                <div class="col-md-12">
                                    <label for="site_name" class="control-label">Site Name</label>
                                    <span class="text-danger">( * )</span>
                                    <input type="text" class="form-control" name="site_name" formControlName="site_name">
                                </div>
                                <div class="col-md-12">
                                    <label for="registration_no" class="control-label">Registration No</label>
                                    <input type="text" class="form-control" name="registration_no" formControlName="registration_no">
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="row">
                                <div class="col-md-12">
                                    <label for="phone" class="control-label">Phone</label>
                                    <input type="text" class="form-control" name="phone" formControlName="phone">
                                </div>
                                <div class="col-md-12">
                                    <label for="fax" class="control-label">Fax</label>
                                    <input type="text" class="form-control" name="fax" formControlName="fax">
                                </div>
                                <div class="col-md-12">
                                    <label for="credit_limit" class="control-label">Credit Limit</label>
                                    <input type="text" class="form-control" name="credit_limit" formControlName="credit_limit">
                                </div>
                                <div class="col-md-12">
                                    <label for="sale_person" class="control-label">Saleperson</label>
                                    <select class="form-control" name="sale_person" formControlName="sale_person">
                                    <option value="null" selected="true">--Select--</option>
                                    <option *ngFor="let item of listMaster['salePersons']" [ngValue]="item.id">{{item.name}}</option>
                                </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>





        <div class="row" style="margin-top:15px;">
            <div class="col-sm-12">
                <div class="block-header bg-gray-lighter">
                    <h3 class="block-title">ADDRESS: {{address.length}}</h3>
                    <div class="wrap-keyboard right-toggle-button"  style="margin-top: -20px;"(click)="flagAddress = !flagAddress">
                        <span class="fa" [ngClass]="{'fa-minus': flagAddress,'fa-plus': !flagAddress}"></span>
                    </div>
                </div>
                <div class="customer-content-toggle"  style="max-height: 140px;overflow-x: auto;" *ngIf="flagAddress">
                    <table class="table table-striped table-vcenter table-hover custom-table">
                        <thead>
                            <tr>
                                <th> No </th>
                                <th> Type </th>
                                <th> Name </th>
                                <th> Country </th>
                                <th> Address 1 </th>
                                <th> Address 2 </th>
                                <th> City </th>
                                <th> State </th>
                                <th> Zip Code </th>
                                <th> Route </th>
                                <th> Action </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of address; let i = index">
                                <td>{{i+1}}</td>
                                <td>
                                    <select class="form-control" name="type" [(ngModel)]="item.type">
                                  <option value="null" selected="true">--Select--</option>
                                  <option *ngFor="let i of item.listType" [ngValue]="i.id">{{i.name}}</option>
                              </select>
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="name" [(ngModel)]="item.name">
                                </td>
                                <td>
                                    <select class="form-control" name="country_id" [(ngModel)]="item.country_id">
                                  <option value="null" selected="true">--Select--</option>
                                  <option *ngFor="let i of item.listCountry" [ngValue]="i.id">{{i.name}}</option>
                              </select>
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="address_1" [(ngModel)]="item.address_1">
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="address_2" [(ngModel)]="item.address_2">
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="city" [(ngModel)]="item.city">
                                </td>
                                <td>
                                    <select class="form-control" name="state_id" [(ngModel)]="item.state_id">
                                  <option value="null" selected="true">--Select--</option>
                                  <option *ngFor="let i of item.listState" [ngValue]="i.id">{{i.name}}</option>
                              </select>
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="zip_code" [(ngModel)]="item.zip_code">
                                </td>
                                <td>
                                    <input *ngIf="item.type == 3" type="text" class="form-control" name="route" [(ngModel)]="item.route">
                                </td>
                                <td>
                                    <button type="button" class="btn btn-default" (click)="removeAddress(i)">
                                      <i class="fa fa-times" aria-hidden="true"></i>
                                  </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <button type="button" class="btn btn-primary" (click)="addNewAddress()">
                  <i class="fa fa-plus" aria-hidden="true"></i> Add new address</button>
            </div>
        </div>



        <div class="row" style="margin-top:15px;">
            <div class="col-sm-12">
                <div class="block-header bg-gray-lighter">
                    <h3 class="block-title">BANK ACCOUNTS: {{bank_account.length}}</h3>
                    <div class="wrap-keyboard right-toggle-button"  style="margin-top: -20px;"(click)="flagAccount = !flagAccount">
                        <span class="fa" [ngClass]="{'fa-minus': flagAccount,'fa-plus': !flagAccount}"></span>
                    </div>
                </div>
                <div class="customer-content-toggle"  style="max-height: 140px;overflow-x: auto;" *ngIf="flagAccount">
                    <table class="table table-striped table-vcenter table-hover custom-table">
                        <thead>
                            <tr>
                                <th> No </th>
                                <th> Bank Name </th>
                                <th> SWIFT </th>
                                <th> Branch </th>
                                <th> Address </th>
                                <th> Account Name </th>
                                <th> Account No </th>
                                <th> IBAN </th>
                                <th> Action </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of bank_account; let i = index">
                                <td>{{i+1}}</td>
                                <td>
                                    <select class="form-control" name="name" [(ngModel)]="item.name">
                                  <option value="null" selected="true">--Select--</option>
                                  <option *ngFor="let i of item.listName" [ngValue]="i.id">{{i.name}}</option>
                              </select>
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="swift" [(ngModel)]="item.swift">
                                </td>
                                <td>
                                    <select class="form-control" name="branch_id" [(ngModel)]="item.branch_id">
                                  <option value="null" selected="true">--Select--</option>
                                  <option *ngFor="let i of item.listBranch" [ngValue]="i.id">{{i.name}}</option>
                              </select>
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="address" [(ngModel)]="item.address">
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="account_name" [(ngModel)]="item.account_name">
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="account_no" [(ngModel)]="item.account_no">
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="iban" [(ngModel)]="item.iban">
                                </td>
                                <td>
                                    <button type="button" class="btn btn-default" (click)="removeBankAccount(i)">
                                      <i class="fa fa-times" aria-hidden="true"></i>
                                  </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <button type="button" class="btn btn-primary" (click)="addNewBankAccount()">
                  <i class="fa fa-plus" aria-hidden="true"></i> Add new account</button>
            </div>
        </div>




        <div class="row" style="margin-top:15px;">
            <div class="col-sm-12">
                <div class="block-header bg-gray-lighter">
                    <h3 class="block-title">BANK CARDS: {{bank_card.length}}</h3>
                    <div class="wrap-keyboard right-toggle-button"  style="margin-top: -20px;"(click)="flagCard = !flagCard">
                        <span class="fa" [ngClass]="{'fa-minus': flagCard,'fa-plus': !flagCard}"></span>
                    </div>
                </div>
                <div class="customer-content-toggle"  style="max-height: 140px;overflow-x: auto;" *ngIf="flagCard">
                    <table class="table table-striped table-vcenter table-hover custom-table">
                        <thead>
                            <tr>
                                <th> No </th>
                                <th> Card Type </th>
                                <th> Card No </th>
                                <th> Holder Name </th>
                                <th> Expiry Date </th>
                                <th> Action </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of bank_card; let i = index">
                                <td>{{i+1}}</td>
                                <td>
                                    <select class="form-control" name="card_type" [(ngModel)]="item.card_type">
                                  <option value="null" selected="true">--Select--</option>
                                  <option *ngFor="let i of item.listCardType" [ngValue]="i.id">{{i.name}}</option>
                              </select>
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="card_no" [(ngModel)]="item.card_no">
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="holder" [(ngModel)]="item.holder">
                                </td>
                                <td>
                                    <div class="input-group">
                                        <input class="form-control" placeholder="yyyy-mm-dd" name="expiry_dt" [(ngModel)]="item.expiry_dt" ngbDatepicker #d="ngbDatepicker">
                                        <div class="input-group-append">
                                            <button class="btn btn-outline-secondary" (click)="d.toggle()" type="button">
                                                <i class="fa fa-calendar" aria-hidden="true"></i>
                                          </button>
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <button type="button" class="btn btn-default" (click)="removeBankCard(i)">
                                      <i class="fa fa-times" aria-hidden="true"></i>
                                  </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <button type="button" class="btn btn-primary" (click)="addNewBankCard()">
                  <i class="fa fa-plus" aria-hidden="true"></i> Add new bank card</button>
            </div>
        </div>



        <div class="row" style="margin-top:15px;">
            <div class="col-sm-12">
                <div class="block-header bg-gray-lighter">
                    <h3 class="block-title">CONTACTS: {{contact.length}}</h3>
                    <div class="wrap-keyboard right-toggle-button"  style="margin-top: -20px;"(click)="flagContact = !flagContact">
                        <span class="fa" [ngClass]="{'fa-minus': flagContact,'fa-plus': !flagContact}"></span>
                    </div>
                </div>
                <div class="customer-content-toggle"  style="max-height: 140px;overflow-x: auto;" *ngIf="flagContact">
                    <table class="table table-striped table-vcenter table-hover custom-table">
                        <thead>
                            <tr>
                                <th> No </th>
                                <th> Name </th>
                                <th> Title </th>
                                <th> Phone </th>
                                <th> Fax </th>
                                <th> email </th>
                                <th> Username </th>
                                <th> Password </th>
                                <th> Action </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of contact; let i = index">
                                <td>{{i+1}}</td>
                                <td>
                                    <input type="text" class="form-control" name="name" [(ngModel)]="item.name">
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="title" [(ngModel)]="item.title">
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="phone" [(ngModel)]="item.phone">
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="fax" [(ngModel)]="item.fax">
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="email" [(ngModel)]="item.email">
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="user_name" [(ngModel)]="item.user_name">
                                </td>
                                <td>
                                    <input type="password" class="form-control" name="password" [(ngModel)]="item.password">
                                </td>
                                <td>
                                    <button type="button" class="btn btn-default" (click)="removeContact(i)">
                                      <i class="fa fa-times" aria-hidden="true"></i>
                                  </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <button type="button" class="btn btn-primary" (click)="addNewContact()">
                  <i class="fa fa-plus" aria-hidden="true"></i> Add new contact</button>
            </div>
        </div>


    </section>







</div>
<div class="modal-footer">
    <button type="button" class="btn btn-outline-primary" (click)="activeModal.close()">OK</button>
    <button type="button" class="btn btn-outline-dark" (click)="activeModal.close()">Close</button>
</div>
