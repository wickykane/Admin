<div class="modal-header">
    <span class="modal-title">CREATE NEW SITE</span>
    <button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss()">
          <span aria-hidden="true">&times;</span>
        </button>
</div>
<div class="modal-body">



    <fieldset class="custom-border">
        <legend class="custom-border">GENERAL INFORMATION</legend>

        <form [formGroup]="generalForm" class="form-search full-width form-horizontal">
            <div class="row">
                <div class="col-md-4">
                    <div class="form-group row">
                        <label for="customer_type" class="col-sm-4 col-form-label">Customer Type<span class="text-danger">(*)</span></label>
                        <div class="col-sm-8">
                            <input type="text" readonly class="form-control-plaintext" name="parent_company_name" formControlName="parent_company_name" value="AFCSE">
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group row">
                        <label for="inputPassword" class="col-sm-4 col-form-label">Phone</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" name="phone" formControlName="phone">
                        </div>
                    </div>
                </div>
                <div class="w-100"></div>
                <div class="col-md-4">
                    <div class="form-group row">
                        <label for="site_code" class="col-sm-4 col-form-label">Site Code<span class="text-danger">(*)</span></label>
                        <div class="col-sm-8">
                            <input type="text" readonly class="form-control-plaintext" name="site_code" formControlName="site_code" value="AFCSE">
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group row">
                        <label for="sale_person" class="col-sm-4 col-form-label">Fax</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" name="fax" formControlName="fax">
                        </div>
                    </div>
                </div>
                <div class="w-100"></div>
                <div class="col-md-4">
                    <div class="form-group row">
                        <label for="site_name" class="col-sm-4 col-form-label">Site Name<span class="text-danger">(*)</span></label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" name="site_name" formControlName="site_name">
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group row">
                        <label for="credit_limit" class="col-sm-4 col-form-label">Credit Limit</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" name="credit_limit" formControlName="credit_limit">
                        </div>
                    </div>
                </div>
                <div class="w-100"></div>
                <div class="col-md-4">
                    <div class="form-group row">
                        <label for="registration_no" class="col-sm-4 col-form-label">Registration No</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" name="registration_no" formControlName="registration_no">
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group row">
                        <label for="sale_person" class="col-sm-4 col-form-label">Saleperson</label>
                        <div class="col-sm-8">
                            <select class="form-control" name="sale_person" formControlName="sale_person">
                          <option value="null" selected="true">--Select--</option>
                          <option *ngFor="let item of listMaster['salePersons']" [ngValue]="item.id">{{item.name}}</option>
                      </select>
                        </div>
                    </div>
                </div>
            </div>
        </form>

    </fieldset>



    <div class="row" style="margin-top:15px;">
        <div class="col-sm-12">
            <div class="custom-header">
                <h3 class="custom-header">ADDRESS: <strong class="text-danger">{{address.length}}</strong> <span *ngIf="address.length > 1">Records</span><span *ngIf="address.length <= 1">Record</span></h3>
                <div class="wrap-keyboard right-toggle-button" (click)="flagAddress = !flagAddress">
                    <span class="fa" [ngClass]="{'fa-minus': flagAddress,'fa-plus': !flagAddress}"></span>
                </div>
            </div>
            <div *ngIf="flagAddress">
                <div class="customer-content-toggle">
                    <table class="table table-striped table-vcenter table-hover custom-table">
                        <thead>
                            <tr>
                                <th> No </th>
                                <th> Type </th>
                                <th> Name </th>
                                <th> Country </th>
                                <th> Address 1 </th>
                                <th> Address 2 </th>
                                <th> City </th>
                                <th> State </th>
                                <th> Zip Code </th>
                                <th> Route </th>
                                <th> Action </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of address; let i = index">
                                <td>{{i+1}}</td>
                                <td>
                                    <select class="form-control" name="type" [(ngModel)]="item.type">
                                    <option value="null" selected="true">--Select--</option>
                                    <option *ngFor="let i of item.listType" [ngValue]="i.id">{{i.name}}</option>
                                </select>
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="name" [(ngModel)]="item.name">
                                </td>
                                <td>
                                    <select class="form-control" name="country_id" [(ngModel)]="item.country_id">
                                    <option value="null" selected="true">--Select--</option>
                                    <option *ngFor="let i of item.listCountry" [ngValue]="i.id">{{i.name}}</option>
                                </select>
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="address_1" [(ngModel)]="item.address_1">
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="address_2" [(ngModel)]="item.address_2">
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="city" [(ngModel)]="item.city">
                                </td>
                                <td>
                                    <select class="form-control" name="state_id" [(ngModel)]="item.state_id">
                                    <option value="null" selected="true">--Select--</option>
                                    <option *ngFor="let i of item.listState" [ngValue]="i.id">{{i.name}}</option>
                                </select>
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="zip_code" [(ngModel)]="item.zip_code">
                                </td>
                                <td>
                                    <input *ngIf="item.type == 3" type="text" class="form-control" name="route" [(ngModel)]="item.route">
                                </td>
                                <td>
                                    <button type="button" class="btn btn-default" (click)="removeAddress(i)">
                                        <i class="fa fa-times" aria-hidden="true"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <button type="button" class="btn btn-outline-dark" (click)="addNewAddress()">
                      <i class="fa fa-plus" aria-hidden="true"></i> Add new address</button>
            </div>
        </div>
    </div>




    <div class="row" style="margin-top:15px;">
        <div class="col-sm-12">
            <div class="custom-header">
                <h3 class="custom-header">BANK ACCOUNTS: <strong class="text-danger">{{bank_account.length}}</strong> <span *ngIf="bank_account.length > 1">Records</span><span *ngIf="bank_account.length <= 1">Record</span></h3>
                <div class="wrap-keyboard right-toggle-button" (click)="flagAccount = !flagAccount">
                    <span class="fa" [ngClass]="{'fa-minus': flagAccount,'fa-plus': !flagAccount}"></span>
                </div>
            </div>
            <div *ngIf="flagAccount">
                <div class="customer-content-toggle">
                    <table class="table table-striped table-vcenter table-hover custom-table">
                        <thead>
                            <tr>
                                <th> No </th>
                                <th> Bank Name </th>
                                <th> SWIFT </th>
                                <th> Branch </th>
                                <th> Address </th>
                                <th> Account Name </th>
                                <th> Account No </th>
                                <th> IBAN </th>
                                <th> Action </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of bank_account; let i = index">
                                <td>{{i+1}}</td>
                                <td>
                                    <select class="form-control" name="name" [(ngModel)]="item.name">
                            <option value="null" selected="true">--Select--</option>
                            <option *ngFor="let i of item.listName" [ngValue]="i.id">{{i.name}}</option>
                          </select>
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="swift" [(ngModel)]="item.swift">
                                </td>
                                <td>
                                    <select class="form-control" name="branch_id" [(ngModel)]="item.branch_id">
                            <option value="null" selected="true">--Select--</option>
                            <option *ngFor="let i of item.listBranch" [ngValue]="i.id">{{i.name}}</option>
                          </select>
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="address" [(ngModel)]="item.address">
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="account_name" [(ngModel)]="item.account_name">
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="account_no" [(ngModel)]="item.account_no">
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="iban" [(ngModel)]="item.iban">
                                </td>
                                <td>
                                    <button type="button" class="btn btn-default" (click)="removeBankAccount(i)">
                            <i class="fa fa-times" aria-hidden="true"></i>
                          </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <button type="button" class="btn btn-outline-dark" (click)="addNewBankAccount()">
                  <i class="fa fa-plus" aria-hidden="true"></i> Add new account</button>
            </div>
        </div>
    </div>




    <div class="row" style="margin-top:15px;" *ngIf="false">
        <div class="col-sm-12">
            <div class="custom-header">
                <h3 class="custom-header">BANK CARDS: <strong class="text-danger">{{bank_card.length}}</strong> <span *ngIf="bank_card.length > 1">Records</span><span *ngIf="bank_card.length <= 1">Record</span></h3>
                <div class="wrap-keyboard right-toggle-button" (click)="flagCard = !flagCard">
                    <span class="fa" [ngClass]="{'fa-minus': flagCard,'fa-plus': !flagCard}"></span>
                </div>
            </div>
            <div *ngIf="flagCard">
                <div class="customer-content-toggle">
                    <table class="table table-striped table-vcenter table-hover custom-table">
                        <thead>
                            <tr>
                                <th> No </th>
                                <th> Card Type </th>
                                <th> Card No </th>
                                <th> Holder Name </th>
                                <th> Expiry Date </th>
                                <th> Action </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of bank_card; let i = index">
                                <td>{{i+1}}</td>
                                <td>
                                    <select class="form-control" name="card_type" [(ngModel)]="item.card_type">
                            <option value="null" selected="true">--Select--</option>
                            <option *ngFor="let i of item.listCardType" [ngValue]="i.id">{{i.name}}</option>
                          </select>
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="card_no" [(ngModel)]="item.card_no">
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="holder" [(ngModel)]="item.holder">
                                </td>
                                <td>
                                    <div class="input-group">
                                        <input class="form-control" placeholder="yyyy-mm-dd" name="expiry_dt" [(ngModel)]="item.expiry_dt" ngbDatepicker #d="ngbDatepicker">
                                        <div class="input-group-append">
                                            <button class="btn btn-outline-secondary" (click)="d.toggle()" type="button">
                                <i class="fa fa-calendar" aria-hidden="true"></i>
                              </button>
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <button type="button" class="btn btn-default" (click)="removeBankCard(i)">
                            <i class="fa fa-times" aria-hidden="true"></i>
                          </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <button type="button" class="btn btn-outline-dark" (click)="addNewBankCard()">
                  <i class="fa fa-plus" aria-hidden="true"></i> Add new bank card</button>
            </div>
        </div>
    </div>



    <div class="row" style="margin-top:15px;">
        <div class="col-sm-12">
            <div class="custom-header">
                <h3 class="custom-header">CONTACTS: <strong class="text-danger">{{contact.length}}</strong> <span *ngIf="contact.length > 1">Records</span><span *ngIf="contact.length <= 1">Record</span></h3>
                <div class="wrap-keyboard right-toggle-button" (click)="flagContact = !flagContact">
                    <span class="fa" [ngClass]="{'fa-minus': flagContact,'fa-plus': !flagContact}"></span>
                </div>
            </div>
            <div *ngIf="flagContact">
                <div class="customer-content-toggle">
                    <table class="table table-striped table-vcenter table-hover custom-table">
                        <thead>
                            <tr>
                                <th> No </th>
                                <th> Name </th>
                                <th> Title </th>
                                <th> Phone </th>
                                <th> Fax </th>
                                <th> email </th>
                                <th> Username </th>
                                <th> Password </th>
                                <th> Action </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of contact; let i = index">
                                <td>{{i+1}}</td>
                                <td>
                                    <input type="text" class="form-control" name="name" [(ngModel)]="item.name">
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="title" [(ngModel)]="item.title">
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="phone" [(ngModel)]="item.phone">
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="fax" [(ngModel)]="item.fax">
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="email" [(ngModel)]="item.email">
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="user_name" [(ngModel)]="item.user_name">
                                </td>
                                <td>
                                    <input type="password" class="form-control" name="password" [(ngModel)]="item.password">
                                </td>
                                <td>
                                    <button type="button" class="btn btn-default" (click)="removeContact(i)">
                            <i class="fa fa-times" aria-hidden="true"></i>
                          </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <button type="button" class="btn btn-outline-dark" (click)="addNewContact()">
                  <i class="fa fa-plus" aria-hidden="true"></i> Add new contact</button>
            </div>
        </div>
    </div>







</div>
<div class="modal-footer">
    <button type="button" class="btn btn-outline-primary" (click)="activeModal.close()">OK</button>
    <button type="button" class="btn btn-outline-dark" (click)="activeModal.close()">Close</button>
</div>
