<div [@routerTransition]>
  <app-page-header [heading]="'CREATE NEW RMA'" [icon]="'fa-th-list'"></app-page-header>
  <section class="rma-page block">
      <div class="row" style="padding-top:15px">
          <div class="col-sm-12">
              <div class="block-header bg-gray-lighter">
                  <h3 class="block-title">GENERAL INFORMATION</h3>
              </div>
          </div>
      </div>

      <div class="row">
          <div class="col-md-12">
              <form [formGroup]="generalForm" class="form-search full-width form-horizontal">
                  <div class="row">
                      <div class="col-md-2">
                          <label for="buyer_type" class="control-label">RMA No</label>
                          <span class="text-danger">( * )</span>
                          <select class="form-control" formControlName="buyer_type">
                              <option value="null" selected="true">--Select--</option>
                              <option *ngFor="let item of listMaster['customerType']" [ngValue]="item.id">{{item.name}}</option>
                          </select>
                      </div>
                      <div class="col-md-2">
                          <label for="full_name" class="control-label">Sales Order</label>
                          <span class="text-danger">( * )</span>
                          <input type="text" class="form-control" name="full_name" formControlName="full_name">
                      </div>
                      <div class="col-md-2">
                          <label for="phone" class="control-label">RMA Type  </label>
                          <input type="text" class="form-control" name="phone" formControlName="phone">
                      </div>
                      <div class="col-md-2">
                          <label for="email" class="control-label">Return Location</label>
                          <span class="text-danger">( * )</span>
                          <input type="text" class="form-control" name="email" formControlName="email">
                      </div>
                      <div class="col-md-2">
                          <label for="fax" class="control-label">Request Date</label>
                          <input type="text" class="form-control" name="fax" formControlName="fax">
                      </div>
                      <div class="col-md-2 ">
                          <label for="website" class="control-label">Requested By</label>
                          <input type="text" class="form-control" name="website" formControlName="website">
                      </div>
                      <div class="col-md-2">
                          <label for="sale_price_list" class="control-label">Order Date</label>
                          <select class="form-control" formControlName="sale_price_id">
                              <option value="null" selected="true">--Select--</option>
                              <option *ngFor="let item of listMaster['salePriceList']" [ngValue]="item.id">{{item.des}}</option>
                          </select>
                      </div>
                      <div class="col-md-2">
                        <label for="sale_price_list" class="control-label">Buyer Credit Balancee</label>
                        <select class="form-control" formControlName="sale_price_id">
                            <option value="null" selected="true">--Select--</option>
                            <option *ngFor="let item of listMaster['salePriceList']" [ngValue]="item.id">{{item.des}}</option>
                        </select>
                    </div>
                  </div>
              </form>
          </div>         
      </div>


      <div class="row">
          <div class="col-md-3">
              <div class="row" style="padding-top:15px">
                  <div class="col-sm-12">
                      <div class="block-header bg-gray-lighter">
                          <h3 class="block-title">BUYER INFORMATION</h3>
                      </div>
                  </div>
              </div>
              <div class="row">
                  <div class="col-md-12">
                      <form [formGroup]="primaryForm" class="form-search full-width form-horizontal">
                          <div class="row">
                              <div class="col-md-12">
                                  <label for="name" class="control-label">Name</label>
                                  <input type="text" class="form-control" name="name" formControlName="name">
                              </div>
                              <div class="col-md-12">
                                  <label for="email" class="control-label">Email</label>
                                  <input type="text" class="form-control" name="email" formControlName="email">
                              </div>
                              <div class="col-md-12">
                                  <label for="tax_number" class="control-label">Fax Number</label>
                                  <input type="text" class="form-control" name="tax_number" formControlName="tax_number">
                              </div>
                              <div class="col-md-12">
                                  <label for="phone" class="control-label">Phone</label>
                                  <input type="text" class="form-control" name="phone" formControlName="phone">
                              </div>
                              <div class="col-md-12">
                                  <label for="address_line" class="control-label">Address Line
                                      <span class="text-danger">( * )</span>
                                  </label>
                                  <textarea name="name" rows="4" class="form-control" formControlName="address_line"></textarea>
                              </div>
                              <div class="col-md-12">
                                  <label for="country_code" class="control-label">Country
                                      <span class="text-danger">( * )</span>
                                  </label>
                                  <select class="form-control" formControlName="country_code" (change)="changeCountry(this.primaryForm.value.country_code ,'states_primary')">
                                      <option value="null" selected="true">--Select--</option>
                                      <option *ngFor="let item of listMaster['countries']" [ngValue]="item.country_code">{{item.name}}</option>
                                  </select>
                              </div>
                              <div class="col-md-12">
                                  <label for="city_name" class="control-label">City
                                      <span class="text-danger">( * )</span>
                                  </label>
                                  <input type="text" class="form-control" name="city_name" formControlName="city_name">
                              </div>
                              <div class="col-md-12">
                                  <label for="state_id" class="control-label">State/Province</label>
                                  <select class="form-control" formControlName="state_id">
                                      <option value="null" selected="true">--Select--</option>
                                      <option *ngFor="let item of listMaster['states_primary']" [ngValue]="item.id">{{item.name}}</option>
                                  </select>
                              </div>
                              <div class="col-md-12">
                                  <label for="zip_code" class="control-label">Zip/Postal Code
                                      <span class="text-danger">( * )</span>
                                  </label>
                                  <input type="text" class="form-control" name="zip_code" formControlName="zip_code">
                              </div>
                          </div>
                      </form>
                  </div>
                  <div class="col-md-12 text-right">
                      <button type="button" class="btn btn-copy" (click)="copyToAddress('billing')">Copy to Billing Address
                          <i class="fa fa-arrow-right"></i>
                      </button>
                  </div>
              </div>
          </div>
          <div class="col-md-3">
              <div class="row" style="padding-top:15px">
                  <div class="col-sm-12">
                      <div class="block-header bg-gray-lighter">
                          <h3 class="block-title">BILLING INFORMATION</h3>
                      </div>
                  </div>
              </div>
              <div class="row">
                  <div class="col-md-12">
                      <form [formGroup]="billingForm" class="form-search full-width form-horizontal">
                          <div class="row">
                              <div class="col-md-12">
                                  <label for="name" class="control-label">Name</label>
                                  <span class="text-danger">( * )</span>
                                  <input type="text" class="form-control" name="name" formControlName="name">
                              </div>
                              <div class="col-md-12">
                                  <label for="email" class="control-label">Email</label>
                                  <input type="text" class="form-control" name="email" formControlName="email">
                              </div>
                              <div class="col-md-12">
                                  <label for="tax_number" class="control-label">Fax Number</label>
                                  <input type="text" class="form-control" name="tax_number" formControlName="tax_number">
                              </div>
                              <div class="col-md-12">
                                  <label for="phone" class="control-label">Phone</label>
                                  <input type="text" class="form-control" name="phone" formControlName="phone">
                              </div>
                              <div class="col-md-12">
                                  <label for="address_line" class="control-label">Address Line
                                      <span class="text-danger">( * )</span>
                                  </label>
                                  <textarea name="name" rows="4" class="form-control" formControlName="address_line"></textarea>
                              </div>
                              <div class="col-md-12">
                                  <label for="country_code" class="control-label">Country
                                      <span class="text-danger">( * )</span>
                                  </label>
                                  <select class="form-control" formControlName="country_code" (change)="changeCountry(this.billingForm.value.country_code ,'states_billing')">
                                      <option value="null" selected="true">--Select--</option>
                                      <option *ngFor="let item of listMaster['countries']" [ngValue]="item.country_code">{{item.name}}</option>
                                  </select>
                              </div>
                              <div class="col-md-12">
                                  <label for="city_name" class="control-label">City
                                      <span class="text-danger">( * )</span>
                                  </label>
                                  <input type="text" class="form-control" name="city_name" formControlName="city_name">
                              </div>
                              <div class="col-md-12">
                                  <label for="state_id" class="control-label">State/Province</label>
                                  <select class="form-control" formControlName="state_id">
                                      <option value="null" selected="true">--Select--</option>
                                      <option *ngFor="let item of listMaster['states_billing']" [ngValue]="item.id">{{item.name}}</option>
                                  </select>
                              </div>
                              <div class="col-md-12">
                                  <label for="zip_code" class="control-label">Zip/Postal Code
                                      <span class="text-danger">( * )</span>
                                  </label>
                                  <input type="text" class="form-control" name="zip_code" formControlName="zip_code">
                              </div>
                          </div>
                      </form>
                  </div>
                  <div class="col-md-12 text-right">
                      <button type="button" class="btn btn-copy" (click)="copyToAddress('shipping')">Copy to Shipping Address
                          <i class="fa fa-arrow-right"></i>
                      </button>
                  </div>
              </div>
          </div>
          <div class="col-md-3">
              <div class="row" style="padding-top:15px">
                  <div class="col-sm-12">
                      <div class="block-header bg-gray-lighter">
                          <h3 class="block-title">SHIPPING INFORMATION</h3>
                      </div>
                  </div>
              </div>
              <div class="row">
                  <div class="col-md-12">
                      <form [formGroup]="shippingForm" class="form-search full-width form-horizontal">
                          <div class="row">
                              <div class="col-md-12">
                                  <label for="name" class="control-label">Name</label>
                                  <span class="text-danger">( * )</span>
                                  <input type="text" class="form-control" name="name" formControlName="name">
                              </div>
                              <div class="col-md-12">
                                  <label for="email" class="control-label">Email</label>
                                  <input type="text" class="form-control" name="email" formControlName="email">
                              </div>
                              <div class="col-md-12">
                                  <label for="tax_number" class="control-label">Fax Number</label>
                                  <input type="text" class="form-control" name="tax_number" formControlName="tax_number">
                              </div>
                              <div class="col-md-12">
                                  <label for="phone" class="control-label">Phone</label>
                                  <input type="text" class="form-control" name="phone" formControlName="phone">
                              </div>
                              <div class="col-md-12">
                                  <label for="address_line" class="control-label">Address Line
                                      <span class="text-danger">( * )</span>
                                  </label>
                                  <textarea name="name" rows="4" class="form-control" formControlName="address_line"></textarea>
                              </div>
                              <div class="col-md-12">
                                  <label for="country_code" class="control-label">Country
                                      <span class="text-danger">( * )</span>
                                  </label>
                                  <select class="form-control" formControlName="country_code" (change)="changeCountry(this.shippingForm.value.country_code ,'states_shipping')">
                                      <option value="null" selected="true">--Select--</option>
                                      <option *ngFor="let item of listMaster['countries']" [ngValue]="item.country_code">{{item.name}}</option>
                                  </select>
                              </div>
                              <div class="col-md-12">
                                  <label for="city_name" class="control-label">City
                                      <span class="text-danger">( * )</span>
                                  </label>
                                  <input type="text" class="form-control" name="city_name" formControlName="city_name">
                              </div>
                              <div class="col-md-12">
                                  <label for="state_id" class="control-label">State/Province</label>
                                  <select class="form-control" formControlName="state_id">
                                      <option value="null" selected="true">--Select--</option>
                                      <option *ngFor="let item of listMaster['states_shipping']" [ngValue]="item.id">{{item.name}}</option>
                                  </select>
                              </div>
                              <div class="col-md-12">
                                  <label for="zip_code" class="control-label">Zip/Postal Code
                                      <span class="text-danger">( * )</span>
                                  </label>
                                  <input type="text" class="form-control" name="zip_code" formControlName="zip_code">
                              </div>
                          </div>
                      </form>
                  </div>
              </div>
          </div>          
      </div>

      <div class="row" style="padding-top:15px">
          <div class="col-sm-12">
              <div class="block-header bg-gray-lighter">
                  <h3 class="block-title">PRODUCT DETAILS</h3>
              </div>
          </div>
      </div>
      <div class="row" style="margin-bottom: 20px;margin-top: 10px;">
          <div class="col-sm-12">
              <div class="block-content">
                  <table class="table table-striped table-vcenter table-hover custom-table">
                      <thead>
                          <tr>
                              <th> Part# </th>
                              <th> OEM # </th>
                              <th> RMA Type </th>
                              <th> Problem Description </th>
                              <th> Waranty </th>
                              <th> Exp. Ret Date </th>
                              <th> 	Ship. Qty </th>
                              <th> Return Qty </th>                            
                              <th> Action </th>
                          </tr>
                      </thead>
                      <tbody>
                          <tr *ngFor="let item of users; let i = index">
                              <td>{{i+1}}</td>
                              <td>
                                  <input type="text" class="form-control" name="email" [(ngModel)]="item.email">
                              </td>
                              <td>
                                  <input type="text" class="form-control" name="username" [(ngModel)]="item.username">
                              </td>
                              <td>
                                  <input type="password" class="form-control" name="password" [(ngModel)]="item.password">
                              </td>
                              <td>
                                  <input type="password" class="form-control" name="password_confirm" [(ngModel)]="item.password_confirm">
                              </td>
                              <td>
                                  <input type="text" class="form-control" name="first_name" [(ngModel)]="item.first_name">
                              </td>
                              <td>
                                  <input type="text" class="form-control" name="last_name" [(ngModel)]="item.last_name">
                              </td>
                              <td>
                                  <input type="text" class="form-control" name="full_name" [(ngModel)]="item.full_name">
                              </td>                              
                              <td>
                                  <button type="button" class="btn btn-default" (click)="removeLine(i)">
                                      <i class="fa fa-times" aria-hidden="true"></i>
                                  </button>
                              </td>
                          </tr>
                          <tr>
                              <td colspan="11">
                                  <button type="button" class="btn btn-primary" (click)="addNewLine()">
                                      <i class="fa fa-plus" aria-hidden="true"></i> Add new line</button>
                              </td>
                          </tr>
                      </tbody>
                  </table>
              </div>
          </div>
      </div>

      <div class="block-content block-content-full text-right">
          <button type="button" class="btn btn-default" [routerLink]="['/customer/buyer']">Cancel</button>
          <button type="button" [disabled]="generalForm.invalid" class="btn btn-primary" (click)="createBuyer()">Save</button>
      </div>
  </section>
</div>
